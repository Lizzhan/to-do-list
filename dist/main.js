(()=>{"use strict";const t=class{constructor(t){this.name=t,this.tasks=[]}get showList(){this.tasks.forEach((t=>{console.log(t)}))}get fullList(){return this.tasks}get listName(){return this.name}addTask(t){this.tasks.push(t)}deleteTask(t){this.tasks=this.tasks.filter((e=>e!==t))}},e=(document.querySelector(".display-general"),document.querySelector(".display-list"),document.querySelector(".priority-tasks"),document.querySelector(".display-task")),s=document.querySelector("#new-button"),n=document.querySelector("#new-task"),o=document.querySelector("#new-task-input"),d=document.querySelector("#add-new-task"),a=document.querySelector("#list-showcase"),i=document.querySelector("#reset-button");let c=new t("tasklist"),l="",r="",u=!1;function m(t){const e=document.createElement("button");e.classList.add("list-edit-button"),e.classList.add("list-buttons"),e.textContent="Edit";const s=document.createElement("button");s.classList.add("list-delete-button"),s.classList.add("list-buttons"),s.textContent="Delete";const n=document.createElement("button");n.textContent="confirm",n.classList.add("confirm-button"),n.classList.add("list-buttons");const o=document.createElement("button");o.classList.add("set-priority"),o.classList.add("list-buttons"),o.textContent="Set as Priority";const d=document.createElement("button");d.classList.add("display-todos"),d.classList.add("list-buttons"),d.textContent="Show Details";const i=document.createElement("p");i.classList.add("each-task"),i.textContent=t.name;const l=document.createElement("div");l.classList.add("task-title");const m=document.createElement("div");m.classList.add("task-showcase");const b=document.createElement("div");b.classList.add("list-buttons-div"),l.appendChild(i),l.appendChild(n),m.appendChild(l),m.appendChild(b),a.appendChild(m);let y=c.tasks;i.addEventListener("click",(()=>{k(),u&&E(),u=!0,i.classList.add("selected"),h(),console.log(r),b.appendChild(e),b.appendChild(s),b.appendChild(o),b.appendChild(d)})),d.addEventListener("click",(()=>{h(),console.log(r),E(),k(),p(y[r])})),o.addEventListener("click",(()=>{h(),y[r].setTaskAsPriority(),i.classList.add("priority"),f()})),e.addEventListener("click",(()=>{i.setAttribute("contenteditable","true"),n.classList.remove("confirm-button-hide"),n.classList.add("confirm-button-display")})),n.addEventListener("click",(()=>{L("todos"),L("todo-form"),n.classList.remove("confirm-button-display"),n.classList.add("confirm-button-hide"),y[r].setName=i.textContent,p(y[r]),i.setAttribute("contenteditable","false"),f()})),s.addEventListener("click",(()=>{let t=y[r];c.deleteTask(t),c.showList,a.removeChild(m),k(),f()}))}function p(t){const s=document.createElement("button");s.classList.add("add-button"),s.textContent="Add Todos";const n=document.createElement("form");n.classList.add("todo-form");const o=document.createElement("input");o.classList.add("add-todo"),o.setAttribute("type","text"),o.setAttribute("placeholder","Enter New Todos");const d=document.createElement("button");d.setAttribute("id","submit"),d.textContent="Enter",e.appendChild(s),e.appendChild(n),n.appendChild(o),n.appendChild(d),b(t),d.addEventListener("click",(e=>{e.preventDefault(),t.todos.push(o.value),L("todos"),n.setAttribute("style","display:none"),o.value="",f(),b(t)})),s.addEventListener("click",(()=>{n.setAttribute("style","display:contents")}))}function h(){let t=c.tasks,e=document.querySelector(".selected").textContent;for(let s=0;s<t.length;s++)if(t[s].name===e){r=s,console.log("index found");break}}function b(t){let s=t.todos;for(let t=0;t<s.length;t++){const n=document.createElement("div");n.classList.add("todos");const o=document.createElement("div");o.classList.add("button-container"),o.setAttribute("style","display:none");const d=document.createElement("ul");d.classList.add("each-todo"),d.textContent=s[t];const a=document.createElement("button");a.textContent="Edit",a.classList.add("todo-buttons");const i=document.createElement("button");i.textContent="Delete",i.classList.add("todo-buttons");const c=document.createElement("button");c.classList.add("confirm-button"),c.textContent="confirm",e.appendChild(n),n.appendChild(d),n.appendChild(o),o.appendChild(c),o.appendChild(a),o.appendChild(i),d.addEventListener("click",(()=>{o.setAttribute("style","display:contents")})),a.addEventListener("click",(()=>{d.setAttribute("contenteditable","true"),c.classList.add("confirm-button-display")})),c.addEventListener("click",(()=>{s[t]=d.textContent,c.classList.remove("confirm-button-display"),c.classList.add("confirm-button-hide"),f()})),i.addEventListener("click",(()=>{s.splice(t,1),e.removeChild(n),f()}))}}function L(t){const e=document.getElementsByClassName(t);for(;e.length>0;)e[0].parentNode.removeChild(e[0])}function k(){L("todos"),L("todo-form"),L("add-button"),L("list-edit-button"),L("list-delete-button"),L("set-priority"),L("display-todos")}function y(){n.setAttribute("style","display:none")}function E(){document.querySelector(".selected").classList.remove("selected"),u=!1}function f(){localStorage.clear(),console.log(c.tasks);const t=JSON.stringify(c);localStorage.setItem("list",t),console.log(t)}!function(){const e=localStorage.getItem("list");c=Object.assign(new t,JSON.parse(e)),console.log(c.tasks),c.tasks.forEach((t=>{console.log("Task Name is: "+t.name),console.log("Todos: "+t.todos)}))}(),c.tasks.forEach((t=>{m(t)})),s.addEventListener("click",(()=>{k(),n.setAttribute("style","display:contents")})),i.addEventListener("click",(()=>{k(),!0===u&&E()})),d.addEventListener("click",(t=>{if(t.preventDefault(),l=o.value,""===l)return void window.alert("Task Name Cannot be Empty");const e=new class{constructor(t){this.name=t,this.todos=[],this.priority=!1}set setName(t){this.name=t}setTaskAsPriority(){this.priority=!0}get getToDos(){return this.todos}get taskName(){return this.name}get taskOverview(){console.log(this.todos)}addToDos(t){this.todos.push(t)}}(l);e.addToDos("DefaultTest1"),c.addTask(e),f(),m(e),y(),console.log(`${l} added`),o.value="",l=""}))})();