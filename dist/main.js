(()=>{"use strict";const t=class{constructor(t){this.name=t,this.tasks=[]}get showList(){this.tasks.forEach((t=>{console.log(t)}))}get fullList(){return this.tasks}get listName(){return this.name}addTask(t){this.tasks.push(t)}deleteTask(t){this.tasks=this.tasks.filter((e=>e!==t))}},e=(document.querySelector(".display-general"),document.querySelector(".display-list"),document.querySelector(".priority-tasks"),document.querySelector(".display-task")),s=document.querySelector("#new-button"),n=document.querySelector("#new-task"),o=document.querySelector("#new-task-input"),d=document.querySelector("#add-new-task"),a=document.querySelector("#list-showcase"),l=document.querySelector("#reset-button");let i=new t("tasklist"),c="",r="",u=!1;function m(t){const s=document.createElement("button");s.classList.add("add-button"),s.textContent="Add Todos";const n=document.createElement("form");n.classList.add("todo-form");const o=document.createElement("input");o.classList.add("add-todo"),o.setAttribute("type","text"),o.setAttribute("placeholder","Enter New Todos");const d=document.createElement("button");d.setAttribute("id","submit"),d.textContent="Enter",e.appendChild(s),e.appendChild(n),n.appendChild(o),n.appendChild(d),h(t),d.addEventListener("click",(e=>{e.preventDefault(),t.addToDos(o.value),k("todos"),n.setAttribute("style","display:none"),o.value="",L(),h(t)})),s.addEventListener("click",(()=>{n.setAttribute("style","display:contents")}))}function p(){let t=i.tasks,e=document.querySelector(".selected").textContent;for(let s=0;s<t.length;s++)if(t[s].taskName===e){r=s;break}}function h(t){let s=t.getToDos;for(let t=0;t<s.length;t++){const n=document.createElement("div");n.classList.add("todos");const o=document.createElement("ul");o.textContent=s[t];const d=document.createElement("button");d.textContent="Edit";const a=document.createElement("button");a.textContent="Delete";const l=document.createElement("button");l.classList.add("confirm-button"),l.textContent="confirm",e.appendChild(n),n.appendChild(o),n.appendChild(l),n.appendChild(d),n.appendChild(a),d.addEventListener("click",(()=>{o.setAttribute("contenteditable","true"),l.setAttribute("style","display:contents")})),l.addEventListener("click",(()=>{s[t]=o.textContent,l.setAttribute("style","display:none"),L()})),a.addEventListener("click",(()=>{s.splice(t,1),e.removeChild(n),L()}))}}function k(t){const e=document.getElementsByClassName(t);for(;e.length>0;)e[0].parentNode.removeChild(e[0])}function b(){k("todos"),k("todo-form"),k("add-button"),k("list-edit-button"),k("list-delete-button"),k("set-priority"),k("display-todos")}function y(){n.setAttribute("style","display:none")}function E(){document.querySelector(".selected").classList.remove("selected"),u=!1}function L(){localStorage.clear(),console.log(i.tasks);const t=JSON.stringify(i);localStorage.setItem("list",t),console.log(t)}!function(){const e=localStorage.getItem("list");i=Object.assign(new t,JSON.parse(e)),console.log(i.tasks),i.tasks.forEach((t=>{console.log("The Task: "+t.todos),console.log("Task Name is: "+t.name)}))}(),s.addEventListener("click",(()=>{b(),n.setAttribute("style","display:contents")})),l.addEventListener("click",(()=>{b(),!0===u&&E()})),d.addEventListener("click",(t=>{if(t.preventDefault(),c=o.value,""===c)return void window.alert("Task Name Cannot be Empty");const e=new class{constructor(t){this.name=t,this.todos=[],this.priority=!1}set setName(t){this.name=t}setTaskAsPriority(){this.priority=!0}get getToDos(){return this.todos}get taskName(){return this.name}get taskOverview(){console.log(this.todos)}addToDos(t){this.todos.push(t)}}(c);e.addToDos("DefaultTest1"),i.addTask(e),L(),function(t){const e=document.createElement("button");e.classList.add("list-edit-button"),e.classList.add("list-buttons"),e.textContent="Edit";const s=document.createElement("button");s.classList.add("list-delete-button"),s.classList.add("list-buttons"),s.textContent="Delete";const n=document.createElement("button");n.textContent="confirm",n.classList.add("confirm-button"),n.classList.add("list-buttons");const o=document.createElement("button");o.classList.add("set-priority"),o.classList.add("list-buttons"),o.textContent="Set as Priority";const d=document.createElement("button");d.classList.add("display-todos"),d.classList.add("list-buttons"),d.textContent="Show Details";const l=document.createElement("p");l.classList.add("each-task"),l.textContent=t;const c=document.createElement("div");c.classList.add("task-title");const h=document.createElement("div");h.classList.add("task-showcase");const y=document.createElement("div");y.classList.add("list-buttons-div"),c.appendChild(l),c.appendChild(n),h.appendChild(c),h.appendChild(y),a.appendChild(h);let C=i.tasks;l.addEventListener("click",(()=>{b(),u&&E(),u=!0,l.classList.add("selected"),p(),console.log(r),y.appendChild(e),y.appendChild(s),y.appendChild(o),y.appendChild(d)})),d.addEventListener("click",(()=>{p(),console.log(r),E(),b(),m(C[r])})),o.addEventListener("click",(()=>{p(),C[r].setTaskAsPriority(),l.classList.add("priority"),L()})),e.addEventListener("click",(()=>{l.setAttribute("contenteditable","true"),n.setAttribute("style","display:contents")})),n.addEventListener("click",(()=>{k("todos"),k("todo-form"),n.setAttribute("style","display:none"),C[r].setName=l.textContent,m(C[r]),l.setAttribute("contenteditable","false"),L()})),s.addEventListener("click",(()=>{let t=C[r];i.deleteTask(t),i.showList,a.removeChild(h),b(),L()}))}(e.taskName),y(),console.log(`${c} added`),o.value="",c=""}))})();