(()=>{"use strict";const t=(document.querySelector(".display-general"),document.querySelector(".display-list"),document.querySelector(".priority-tasks"),document.querySelector(".display-task")),e=document.querySelector("#new-button"),s=document.querySelector("#new-task"),n=document.querySelector("#new-task-input"),o=document.querySelector("#add-new-task"),d=document.querySelector("#list-showcase"),i=document.querySelector("#reset-button");let l=new class{constructor(t){this.name=t,this.tasks=[]}get showList(){this.tasks.forEach((t=>{console.log(t)}))}get fullList(){return this.tasks}get listName(){return this.name}addTask(t){this.tasks.push(t)}deleteTask(t){this.tasks=this.tasks.filter((e=>e!==t))}}("tasklist"),a="",c="",r=!1;function u(){const t=document.createElement("button");t.classList.add("list-edit-button"),t.classList.add("list-buttons"),t.textContent="Edit";const e=document.createElement("button");e.classList.add("list-delete-button"),e.classList.add("list-buttons"),e.textContent="Delete";const s=document.createElement("button");s.textContent="confirm",s.classList.add("confirm-button"),s.classList.add("list-buttons");const n=document.createElement("button");n.classList.add("set-priority"),n.classList.add("list-buttons"),n.textContent="Set as Priority";const o=document.createElement("button");o.classList.add("display-todos"),o.classList.add("list-buttons"),o.textContent="Show Details";const i=document.createElement("p");i.classList.add("each-task"),i.textContent=a;const u=document.createElement("div");u.classList.add("task-title");const h=document.createElement("div");h.classList.add("task-showcase");const b=document.createElement("div");b.classList.add("list-buttons-div"),u.appendChild(i),u.appendChild(s),h.appendChild(u),h.appendChild(b),d.appendChild(h);let k=l.fullList;i.addEventListener("click",(()=>{L(),r=!0,i.classList.add("selected"),p(),console.log(c),b.appendChild(t),b.appendChild(e),b.appendChild(n),b.appendChild(o)})),o.addEventListener("click",(()=>{p(),console.log(c),E(),L(),m(k[c])})),n.addEventListener("click",(()=>{p(),k[c].setTaskAsPriority(),i.classList.add("priority"),C()})),t.addEventListener("click",(()=>{i.setAttribute("contenteditable","true"),s.setAttribute("style","display:contents")})),s.addEventListener("click",(()=>{y("todos"),y("todo-form"),s.setAttribute("style","display:none"),k[c].setName=i.textContent,m(k[c]),i.setAttribute("contenteditable","false"),C()})),e.addEventListener("click",(()=>{let t=k[c];l.deleteTask(t),l.showList,d.removeChild(h),L(),C()}))}function m(e){const s=document.createElement("button");s.classList.add("add-button"),s.textContent="Add Todos";const n=document.createElement("form");n.classList.add("todo-form");const o=document.createElement("input");o.classList.add("add-todo"),o.setAttribute("type","text"),o.setAttribute("placeholder","Enter New Todos");const d=document.createElement("button");d.setAttribute("id","submit"),d.textContent="Enter",t.appendChild(s),t.appendChild(n),n.appendChild(o),n.appendChild(d),h(e),d.addEventListener("click",(t=>{t.preventDefault(),e.addToDos(o.value),y("todos"),n.setAttribute("style","display:none"),o.value="",C(),h(e)})),s.addEventListener("click",(()=>{n.setAttribute("style","display:contents")}))}function p(){let t=l.fullList,e=document.querySelector(".selected").textContent;for(let s=0;s<t.length;s++)if(t[s].taskName===e){c=s;break}}function h(e){let s=e.getToDos;for(let e=0;e<s.length;e++){const n=document.createElement("div");n.classList.add("todos");const o=document.createElement("ul");o.textContent=s[e];const d=document.createElement("button");d.textContent="Edit";const i=document.createElement("button");i.textContent="Delete";const l=document.createElement("button");l.classList.add("confirm-button"),l.textContent="confirm",t.appendChild(n),n.appendChild(o),n.appendChild(l),n.appendChild(d),n.appendChild(i),d.addEventListener("click",(()=>{o.setAttribute("contenteditable","true"),l.setAttribute("style","display:contents")})),l.addEventListener("click",(()=>{s[e]=o.textContent,l.setAttribute("style","display:none"),C()})),i.addEventListener("click",(()=>{s.splice(e,1),t.removeChild(n),C()}))}}function b(){return""===l.fullList}function y(t){const e=document.getElementsByClassName(t);for(;e.length>0;)e[0].parentNode.removeChild(e[0])}function L(){y("todos"),y("todo-form"),y("add-button"),y("list-edit-button"),y("list-delete-button"),y("set-priority"),y("display-todos")}function k(){s.setAttribute("style","display:none")}function E(){document.querySelector(".selected").classList.remove("selected"),r=!1}function C(){localStorage.clear();const t=JSON.stringify(l);localStorage.setItem("list",t),console.log(t)}e.addEventListener("click",(()=>{L(),s.setAttribute("style","display:contents")})),i.addEventListener("click",(()=>{L(),!0===r&&E()})),o.addEventListener("click",(t=>{if(t.preventDefault(),a=n.value,""===a)return void window.alert("Task Name Cannot be Empty");const e=new class{constructor(t){this.name=t,this.todos=[],this.priority=!1}set setName(t){this.name=t}setTaskAsPriority(){this.priority=!0}get getToDos(){return this.todos}get taskName(){return this.name}get taskOverview(){console.log(this.todos)}addToDos(t){this.todos.push(t)}}(a);e.addToDos("DefaultTest1"),l.addTask(e),C(),u(),k(),console.log(`${a} added`),l.showList,n.value="",a=""})),function(){if(!b){const t=localStorage.getItem("list");l=JSON.parse(t)}}(),u()})();